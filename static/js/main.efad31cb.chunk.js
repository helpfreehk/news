(window["webpackJsonphelpfreehk-news"]=window["webpackJsonphelpfreehk-news"]||[]).push([[0],{188:function(e,t,n){e.exports=n(418)},210:function(e,t){},212:function(e,t){},244:function(e,t){},245:function(e,t){},310:function(e,t){},417:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(48),s=n.n(r),c=n(18),i=n(19),o=n(21),m=n(20),u=n(49),d=n(22),h=n(112),p=n.n(h),v=n(40),E=n(17),f=n(420),b=n(419);var g=function(){return l.a.createElement(b.a,{animation:"border",variant:"light",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))};function O(e){return l.a.createElement("button",{className:"menu-tg",onClick:e.toggleMenu})}function w(e){return l.a.createElement("div",{className:"menu"},l.a.createElement("div",{className:"d-xl-none menu-overlap",onClick:e.toggleMenu}),l.a.createElement("ul",{className:"nav"},l.a.createElement("li",null,l.a.createElement(E.b,{to:"/"},"Timeline")),l.a.createElement("li",null,l.a.createElement(E.b,{to:"/"},"Events"),l.a.createElement("button",{className:"submenu-tg",onClick:function(e){e.target.classList.toggle("open")}}),l.a.createElement(j,{items:e.events})),l.a.createElement("li",null,l.a.createElement(E.b,{to:"/about"},"About")),l.a.createElement("li",null,l.a.createElement(E.b,{to:"/download"},"Download"))))}function j(e){return e.items.length>0?l.a.createElement("div",{className:"submenu"},l.a.createElement("ul",{className:"nav"},e.items.map(function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("a",{href:"#/events/"+e.title},e.title))}))):l.a.createElement("div",{className:"submenu text-center p-4"},l.a.createElement(g,null))}var y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={data:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement(f.a,null,l.a.createElement("div",{className:"h-1"},l.a.createElement("div",{className:"h-logo"},l.a.createElement("h1",null,l.a.createElement(E.b,{to:"/"},"Free HK"))),l.a.createElement(w,{events:this.props.events,toggleMenu:this.props.toggleMenu}),l.a.createElement(O,{toggleMenu:this.props.toggleMenu}))))}}]),t}(l.a.Component),k=n(111),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).scrollToTop=function(){k.animateScroll.scrollToTop()},n.state={data:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("button",{onClick:this.scrollToTop,className:"totop"},"scroll to top"),l.a.createElement(f.a,null,"Email: ",l.a.createElement("a",{href:"mailto:helpfreehk@gmail.com"},"helpfreehk@gmail.com")))}}]),t}(l.a.Component),C=n(115),D=(n(415),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.events,t=this.props.data,n=this.props.event?this.props.event:"";return this.props.ready?l.a.createElement(C.VerticalTimeline,null,t.map(function(t){var a=e.find(function(e){return e.id===t.event_id})?e.find(function(e){return e.id===t.event_id}).title:"";return!n||a&&a===n?l.a.createElement(C.VerticalTimelineElement,{key:t.title,className:"vertical-timeline-element--work",date:t.date},l.a.createElement("h3",{className:"vertical-timeline-element-title"},l.a.createElement(E.b,{to:"/d/"+t.title},t.title)),l.a.createElement("h6",{className:"vertical-timeline-element-subtitle"},l.a.createElement(E.b,{to:"/events/"+a},a)),l.a.createElement("p",null,t.desc)):""})):l.a.createElement("div",{className:"text-center"},l.a.createElement("br",null),l.a.createElement(g,null),l.a.createElement("br",null))}}]),t}(l.a.Component)),M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByClassName("wrapper")[0].classList.remove("menu-open"),document.getElementsByClassName("submenu-tg")[0].classList.remove("open"),window.scrollTo(0,0)}},{key:"render",value:function(){return l.a.createElement(f.a,null,l.a.createElement(D,{data:this.props.data,event:this.props.match.params.event,events:this.props.events,ready:this.props.dataReady>0}))}}]),t}(l.a.Component),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={data:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByClassName("wrapper")[0].classList.remove("menu-open"),document.getElementsByClassName("submenu-tg")[0].classList.remove("open")}},{key:"render",value:function(){return l.a.createElement("div",null,"About")}}]),t}(l.a.Component),T=n(421),x=n(422);function B(e){return e.data.cover_img?l.a.createElement("img",{src:e.data.cover_img,alt:e.data.title,className:"w-100 border shadow"}):""}var L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByClassName("wrapper")[0].classList.remove("menu-open"),document.getElementsByClassName("submenu-tg")[0].classList.remove("open"),window.scrollTo(0,0)}},{key:"render",value:function(){if(console.log(this.props.dataReady),this.props.dataReady){var e,t,n,a=this.props.events;for(e=0;e<this.props.data.length;e++)this.props.data[e].title==this.props.match.params.detail&&(t=this.props.data[e],n=a.find(function(e){return e.id===t.event_id})?a.find(function(e){return e.id===t.event_id}).title:"");return l.a.createElement("div",{className:"detailWp"},l.a.createElement(f.a,null,l.a.createElement(T.a,null,l.a.createElement(x.a,{xs:12,xl:6},l.a.createElement(B,{data:t})),l.a.createElement(x.a,{xs:12,xl:6},l.a.createElement("h2",null,t.title),l.a.createElement("h5",null,l.a.createElement("a",{href:"#/events/"+n},n)),l.a.createElement("div",{className:"content"},t.content.split("\n").map(function(e){return l.a.createElement("p",null,e)}))))))}return l.a.createElement("div",{className:"text-center"},l.a.createElement("br",null),l.a.createElement(g,null),l.a.createElement("br",null))}}]),t}(l.a.Component),F=(n(416),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).handleFinishEvents=function(){e.setState({finishEvents:!0})},e.handleFinishData=function(){e.setState({finishData:!0})},e.handleScroll=function(){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||""),a={x:t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,y:t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop};e.setState({scrollDown:a.y})},e.toggleMenu=function(){e.setState({menuOpen:!e.state.menuOpen}),document.getElementsByClassName("submenu-tg")[0].classList.remove("open")},e.state={scrollDown:0,data:[],events:[],menuOpen:!1,finishEvents:!1,finishData:!1},e.handleScroll=e.handleScroll.bind(Object(u.a)(e)),e.handleFinishEvents=e.handleFinishEvents.bind(Object(u.a)(e)),e.handleFinishData=e.handleFinishData.bind(Object(u.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll),p.a.init({key:"1QClBiSbsZKGlzugA1_CUKE8uI9-0PNDb9vkCmrEka3M",callback:function(t){e.setState({events:t}),e.handleFinishEvents()},simpleSheet:!0}),p.a.init({key:"1CNnSjBUnSRoT_dW5aJwKmzbWqf3_80PhM9RNBMYfgM8",orderby:"date",callback:function(t){e.setState({data:t}),e.handleFinishData()},simpleSheet:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement(E.a,null,l.a.createElement("div",{className:"wrapper"+(this.state.menuOpen?" menu-open":"")+(this.state.scrollDown>20?" scroll-down":"")+(this.state.scrollDown>=window.document.body.offsetHeight-window.innerHeight?" reach-bottom":"")},l.a.createElement(y,{events:this.state.events,toggleMenu:this.toggleMenu}),l.a.createElement("main",null,l.a.createElement(v.a,{exact:!0,path:"/",render:function(t){return l.a.createElement(M,Object.assign({},t,{data:e.state.data,events:e.state.events,dataReady:e.state.finishEvents&&e.state.finishData}))}}),l.a.createElement(v.a,{exact:!0,path:"/about",render:function(e){return l.a.createElement(S,e)}}),l.a.createElement(v.a,{path:"/events/:event",render:function(t){return l.a.createElement(M,Object.assign({},t,{data:e.state.data,events:e.state.events,dataReady:e.state.finishEvents&&e.state.finishData}))}}),l.a.createElement(v.a,{exact:!0,path:"/d/:detail",render:function(t){return l.a.createElement(L,Object.assign({},t,{data:e.state.data,events:e.state.events,dataReady:e.state.finishEvents&&e.state.finishData}))}})),l.a.createElement(N,null)))}}]),t}(l.a.Component));n(417),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[188,1,2]]]);
//# sourceMappingURL=main.efad31cb.chunk.js.map